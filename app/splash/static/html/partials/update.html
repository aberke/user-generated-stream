
<link href="/widget/widget.css" rel="stylesheet">
<div class='container' id='update-partial'>

	<div class='info-container'>
		<div class="page-header">
			<h1>
				#{{opp.title}} 
				<small>
					<span class='started'>
						Started 
						<start-date-selection edit="editStart" opp='opp'></start-date-selection>

						<button ng-click="editStart=true" ng-show="!editStart" class='btn-xs btn btn-default'>edit</button>
						<button ng-click="saveOPP();editStart=false" ng-show="editStart" class='btn-xs btn btn-default'>save</button>
					</span>
					<span class='showing-entries'>
						Showing {{entryList.length + pendingEntryList.length + rejectEntryList.length}} Entries 
						<button ng-click="loadMoreEntries()" ng-show="moreEntries!=false&&!loadingMoreEntries" class='btn btn-sm btn-default'>+</button>
						<img ng-show="loadingMoreEntries" class="loading-gif" src="/img/loading.gif">
					</span>
				</small>
			</h1>
		</div>
	</div>

	<ul ng-class="(showTab||'widget')" class="nav nav-tabs tab-control">
		<li class='data-tab widget-tab' ng-click="showTab='widget'" ng-class="{'active':!showTab||showTab=='widget'}" ng-click="showTab='widget'">
			<a>Widget</a>
		</li>
		<li class='data-tab accepted-tab' class='data-tab widget-tab' ng-click="showTab='accepted'" ng-class="{'active':showTab=='accepted'}" >
			<a><span class='tab-title'>Accepted</span> ({{entryList.length}})</a>
		</li>
		<li class='data-tab rejected-tab' ng-class="{'active':showTab=='rejected'}" ng-click="showTab='rejected'">
			<a>Rejected ({{rejectEntryList.length}})</a>
		</li>
		<li class='data-tab pending-twitter-tab' ng-class="{'active':showTab=='pending-twitter'}" ng-click="showTab='pending-twitter'">
			<a>Pending: Twitter</a>
		</li>
		<li class='data-tab pending-instagram-tab' ng-class="{'active':showTab=='pending-instagram'}" ng-click="showTab='pending-instagram'">
			<a>Pending: Instagram</a>
		</li>
	</ul>

	<div ng-show="!showTab||showTab=='widget'" class='tab-content widget-row'>
		<div class='row'>
			<div class='widget-container col-md-6'>
				<div class="huffpostlabs-opp" id="{{opp.id}}"></div>
				<script src="/widget/o.js"></script>
			</div>
			<div class='col-md-6'>

				<form name="updateForm">
					<label>Share Link</label>
					<p>Put in a shortened URL of the page you embedded on so that when slides are shared to twitter, the tweet is not cut off</p>
					<input placeholder="http://" ng-class="{'error':updateForm.$error.url}" ng-model="opp.share_link" type="url">
					<button ng-disabled="!updateForm.$valid" ng-click="saveOPP()" class='btn btn-default btn-xs'>SAVE</button>
				</form>
			</div>
		</div>

	</div>

	<div ng-show="showTab=='accepted'" class='tab-content entry-list-container accepted-entries'>
		<div entry-list="entryList" class='row entry-container' ng-repeat="e in opp.entryList"></div>
	</div>

	<div ng-show="showTab=='rejected'" class='tab-content entry-list-container rejected-entries'>
		<div entry-list="rejectEntryList" class='row entry-container' ng-repeat="e in rejectEntryList"></div>
	</div>

	<div ng-show="showTab=='pending-twitter'" class='tab-content entry-list-container pending-entries-twitter'>
		<div entry-list="pendingEntryList" class='row entry-container' ng-repeat="e in pendingEntryList"></div>
	</div>

	<div ng-show="showTab=='pending-instagram'" class='tab-content entry-list-container pending-entries-instagram'>
		<div entry-list="pendingEntryListInstagram" class='row entry-container' ng-repeat="e in pendingEntryListInstagram"></div>
	</div>

	<div class='showing-entries'>
		<button ng-click="loadMoreEntries()" ng-show="moreEntries!=false&&!loadingMoreEntries" class='btn btn-sm btn-default'>Shore More</button>
		<img ng-show="loadingMoreEntries" class="loading-gif" src="/img/loading.gif">
	</div>


</div>



